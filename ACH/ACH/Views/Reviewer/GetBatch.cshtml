@model ACH.Models.Batch

@{
    ViewBag.Title = "Batch Details";
}

<br />


<div class="row">
    <div>
        <div class="card card-body">
            <table class="table table-sm">
                <tr style="background-color: rgba(0, 0, 255, 0.1)">
                    <th>
                        @Html.DisplayNameFor(model => model.CreationDate)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.ApprovedTransactionCount)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.RejectedTransactionCount)
                    </th>
                    <th>
                        TotalTransactionCount
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.TotalApprovedAmount)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.TotalRejectedAmount)
                    </th>
                </tr>

                <tr>
                    <td>
                        @Html.DisplayFor(model => model.CreationDate)
                    </td>
                    <td>
                        @Html.DisplayFor(model => model.ApprovedTransactionCount)
                    </td>
                    <td>
                        @Html.DisplayFor(model => model.RejectedTransactionCount)
                    </td>
                    <td>
                        @Html.DisplayFor(model => model.transactions.Count)
                    </td>
                    <td>
                        @Html.DisplayFor(model => model.TotalApprovedAmount)
                    </td>
                    <td>
                        @Html.DisplayFor(model => model.TotalRejectedAmount)
                    </td>
                </tr>
                <tr style="background-color: rgba(0, 0, 255, 0.1)">
                    <th>
                        @Html.DisplayNameFor(model => model.TotalAmount)
                    </th>
                    <th> </th>
                    <th style="text-align:right">
                        @Html.DisplayNameFor(model => model.SenderBankName)
                    </th>
                    <th> </th>
                    <th> </th>
                    <th>
                        @Html.DisplayNameFor(model => model.SenderBankId)
                    </th>
                </tr>

                <tr>
                    <td>
                        @Html.DisplayFor(model => model.TotalAmount)
                    </td>
                    <td> </td>
                    <td style="text-align:center">
                        @Html.DisplayFor(model => model.SenderBankName)
                    </td>
                    <td> </td>
                    <td> </td>
                    <td>
                        @Html.DisplayFor(model => model.SenderBankId)
                    </td>
                </tr>
            </table>
            <br />
            <a class="btn btn-primary btn-sm btn-danger" style="float:right" @Html.ActionLink("Reject Batch", "RejectBatch", "Reviewer", new { id = Model.Id }, "")</a>
            <a class="btn btn-primary btn-sm btn-success" style="float:right" @Html.ActionLink("Accept Batch", "AcceptBatch", "Reviewer", new { id = Model.Id }, "")</a>

            <h4><b>Batch's Transactions</b></h4>

            <table class="table table-sm">
                <tr style="background-color: rgba(0, 0, 255, 0.1)">
                    <th></th>
                    <th>Transaction ID</th>
                    <th>Creation Date</th>
                    <th>Amount</th>
                    <th>Currency</th>
                    <th>Update</th>
                    <th> </th>
                    <th>  </th>
                </tr>

                @foreach (var item in Model.transactions)
                {
                    <tr>
                        <td><a class="btn btn-sm btn-info" @Html.ActionLink("View", "GetTrx", "Transactions", new { id = item.Id }, "")</td>
                        <td>@Html.DisplayFor(modelItem => item.Id)</td>
                        <td>@Html.DisplayFor(modelItem => item.CreationDate)</td>
                        <td>@Html.DisplayFor(modelItem => item.Amount)</td>
                        <td>@Html.DisplayFor(modelItem => item.Currency)</td>
                        <td><a class="btn btn-sm btn-success" @Html.ActionLink("Update Status", "UpdateTrx", "Transactions", new { id = item.Id }, "")</td>
                        <td>  </td>
                    </tr>
                }


            </table>
        </div>
    </div>
</div>


